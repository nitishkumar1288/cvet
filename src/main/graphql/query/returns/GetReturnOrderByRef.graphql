query GetReturnOrderByRef($ref: String!,
    $retailer: RetailerId!,
    $includePickupLocation: Boolean!,
    $includeAttributes: Boolean!,
    $includeReturnOrderItems: Boolean!,
    $includeReturnFulfilments:Boolean!,
    $returnOrderItemCount: Int,
    $returnOrderItemCursor: String){
    returnOrder(ref: $ref, retailer: $retailer){
        ref
        id
        type
        status
        createdOn
        updatedOn
        order {
            ref
        }
        pickupAddress @include(if: $includePickupLocation){
            companyName
            name
            street
            city
            state
            postcode
            region
            country
            latitude
            longitude
            timeZone
        }
        returnOrderFulfilments{
            edges{
                node{
                    id
                    ref
                    status
                    attributes
                    {
                        name
                        type
                        value}
                    returnFulfilmentItems@include(if:$includeReturnFulfilments){
                        edges{
                            node{
                                id
                                ref
                                returnOrderItem{
                                    ref
                                }
                                unitQuantity{
                                    quantity
                                }
                            }
                        }
                    }
                }
            }
        }
        lodgedLocation{
            ref
        }
        destinationLocation{
            ref
        }
        retailer{
            id
        }
        workflow{
            ref
            version
        }
        customer{
            ref
        }
        currency{
            alphabeticCode
        }
        defaultTaxType{
            country
            group
            tariff
        }
        subTotalAmount{
            amount
            scale
            unscaledValue
        }
        totalTax{
            amount
            scale
            unscaledValue
        }
        totalAmount{
            amount
            scale
            unscaledValue
        }
        attributes @include(if: $includeAttributes){
            name
            type
            value
        }
        returnOrderItems (first:$returnOrderItemCount after:$returnOrderItemCursor) @include(if: $includeReturnOrderItems){
            edges{
                node{
                    id
                    ref
                    attributes{
                        name
                        type
                        value
                    }
                    returnReason{
                        value
                        label
                    }
                    returnReasonComment
                    returnConditionComment
                    returnCondition{
                        value
                        label
                    }
                    product{
                        ref
                        catalogue{
                            ref
                        }
                    }
                    unitQuantity{
                        quantity
                        unit
                    }
                    orderItem{
                        ref
                        order {
                            ref
                        }
                    }
                    unitTaxType{
                        country
                        group
                        tariff
                    }
                    unitAmount{
                        amount
                        scale
                        unscaledValue
                    }
                    itemAmount{
                        amount
                        scale
                        unscaledValue
                    }
                    itemTaxAmount{
                        amount
                        scale
                        unscaledValue
                    }
                }
                cursor
            }
            pageInfo{
                hasPreviousPage
                hasNextPage
            }
        }
    }
}